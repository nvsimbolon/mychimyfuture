runApp('Desktop/GitHub/mychimyfuture')
merged_dat <- read_csv('Updated_Merged_Dataset.csv')
library(tidyverse)
merged_dat <- read_csv('Updated_Merged_Dataset.csv')
merged_dat <- read_csv('/Users/joepopop/Desktop/GitHub/mychimyfuture/Updated_Merged_Dataset.csv')
View(merged_dat)
shiny::runApp('Desktop/GitHub/mychimyfuture')
shiny::runApp('Desktop/GitHub/mychimyfuture')
merged_dat <- read_csv('/Users/joepopop/Desktop/GitHub/mychimyfuture/Updated_Merged_Dataset.csv')
View(merged_dat)
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
shiny::runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
library(shiny)
library(tidyverse)
library(skimr)
library(sf)
library(leaflet)
library(RColorBrewer)
merged_dat <- read_csv('Updated_Merged_Dataset.csv')
merged_dat <- read_csv('/Users/joepopop/Desktop/GitHub/mychimyfuture/Updated_Merged_Dataset.csv')
View(merged_dat)
runApp('Desktop/GitHub/mychimyfuture')
library(tidyverse)
library(skimr)
library(sf)
library(leaflet)
library(RColorBrewer)
merged_dat <- read_csv('/Users/joepopop/Desktop/GitHub/mychimyfuture/Final_Merged_Dataset.csv')
View(merged_dat)
map_dat <- read_sf("https://raw.githubusercontent.com/thisisdaryn/data/master/geo/chicago/Comm_Areas.geojson") %>%
rename(community_area = community) %>%
mutate(
community_area = toupper(community_area),
community_area = case_when(
community_area == 'NEW CITY' ~ 'Back of the Yards',
community_area %in% c('DOUGLAS', 'GRAND BOULEVARD', 'OAKLAND') ~ 'Bronzeville/South Lakefront',
community_area %in% c('WEST GARFIELD PARK', 'EAST GARFIELD PARK') ~ 'GARFIELD PARK',
community_area == 'SOUTH LAWNDALE' ~ 'Little Village',
TRUE ~ community_area
))
# combined data
dat <- merged_dat %>%
left_join(map_dat, by = c('Geographic Cluster Name' = 'community_area'), multiple = 'all') %>%
mutate(
`Geographic Cluster Name` = tools::toTitleCase(tolower(`Geographic Cluster Name`)),
) %>%
mutate_at(vars(contains("Percent") | contains("Unemployment Rate")),
~as.numeric(sub("%|\\$|,", "", .))/100) %>%
janitor::clean_names() %>%
rename_all(~ str_to_title(str_replace_all(., "_", " ")))
View(dat)
shiny::runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
runApp('Desktop/GitHub/mychimyfuture')
shiny::runApp('Desktop/GitHub/mychimyfuture')
shiny::runApp('Desktop/GitHub/mychimyfuture')
setwd('/Users/joepopop/Desktop/GitHub/mychimyfuture')
merged_dat <- read_csv('Final_Merged_Dataset.csv')
map_dat <- read_sf("https://raw.githubusercontent.com/thisisdaryn/data/master/geo/chicago/Comm_Areas.geojson") %>%
rename(community_area = community) %>%
mutate(
community_area = toupper(community_area),
community_area = case_when(
community_area == 'NEW CITY' ~ 'Back of the Yards',
community_area %in% c('DOUGLAS', 'GRAND BOULEVARD', 'OAKLAND') ~ 'Bronzeville/South Lakefront',
community_area %in% c('WEST GARFIELD PARK', 'EAST GARFIELD PARK') ~ 'GARFIELD PARK',
community_area == 'SOUTH LAWNDALE' ~ 'Little Village',
TRUE ~ community_area
))
# combined data
dat <- merged_dat %>%
left_join(map_dat, by = c('Geographic Cluster Name' = 'community_area'), multiple = 'all') %>%
mutate(
`Geographic Cluster Name` = tools::toTitleCase(tolower(`Geographic Cluster Name`)),
) %>%
mutate_at(vars(contains("Percent") | contains("Unemployment Rate")),
~as.numeric(sub("%|\\$|,", "", .))/100) %>%
janitor::clean_names() %>%
rename_all(~ str_to_title(str_replace_all(., "_", " ")))
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = cut(.data[[input$variable]], breaks = quantile(.data[[input$variable]], probs = c(0, 0.25, 0.5, 0.75, 1)), include.lowest = TRUE))
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = cut(Stem, breaks = quantile(Stem, probs = c(0, 0.25, 0.5, 0.75, 1)), include.lowest = TRUE))
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = cut(`Total Programs`, breaks = quantile(`Total Programs`, probs = c(0, 0.25, 0.5, 0.75, 1)), include.lowest = TRUE))
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
select(`Total Programs`) %>%
st_as_sf() %>%
mutate(quartile1 = cut(`Total Programs`, breaks = quantile(`Total Programs`, probs = c(0, 0.25, 0.5, 0.75, 1)), include.lowest = TRUE))
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = cut(`Total Programs`, breaks = quantile(`Total Programs`, probs = c(0, 0.25, 0.5, 0.75, 1)), include.lowest = TRUE))
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = cut(`Total Programs`, breaks = quantile(`Total Programs`, probs = c(0, 0.25, 0.5, 0.75, 1)), include.lowest = TRUE)) %>%
view()
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = ntile(`Total Programs`, 4) %>%
view()
})
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = ntile(`Total Programs`, 4)) %>%
view()
runApp()
runApp()
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = ntile(Asian, 4)) %>%
view()
dat %>%
# group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable := if_else(input$mean_median, mean(.data[[input$variable]]), median(.data[[input$variable]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable]])) %>%
# distinct() %>%
# ungroup() %>%
st_as_sf() %>%
mutate(quartile1 = ntile(Asian, 4),
quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1))) %>%
view()
runApp()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable2, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
# distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
mutate(quartile2 = ntile(.data[[input$variable2]], 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable2, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
# distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
mutate(quartile2 = ntile(Asian, 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable2, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
# distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
summarise(quartile2 = ntile(Asian, 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable2, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
summarise(quartile2 = ntile(Asian, 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
# select(`Geographic Cluster Name`, !!input$variable2, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct(`Geographic Cluster Name`) %>%
# ungroup() %>%
# st_as_sf() %>%
summarise(quartile2 = ntile(Asian, 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
# distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
summarise(quartile2 = ntile(Asian, 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
summarise(quartile2 = ntile(Asian, 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
summarise(quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
summarise(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
# summarise(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)))
summarise(quartile2 = ntile(Asian, 4))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
# summarise(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)))
summarise(quartile2 = ntile(Asian, 4)) %>% view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
# summarise(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)))
summarise(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)) %>% view()
})
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
# summarise(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)))
summarise(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1))) %>% view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
select(`Geographic Cluster Name`) %>%
mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
quartile2 = ntile(Asian, 4)) %>% view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
select(`Geographic Cluster Name`, Asian) %>%
mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
quartile = ntile(Asian, 4)) %>% view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
select(`Geographic Cluster Name`, Asian) %>%
mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
quartileyay = ntile(Asian, 4)) %>% view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
select(`Geographic Cluster Name`, Asian) %>%
# mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
#        quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct(`Geographic Cluster Name`, Asian, Geometry) %>%
# ungroup() %>%
# st_as_sf() %>%
select(`Geographic Cluster Name`, Asian) %>%
# mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
#        quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct(.keep_all = T) %>%
# ungroup() %>%
# st_as_sf() %>%
select(`Geographic Cluster Name`, Asian) %>%
# mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
#        quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
# mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
#        quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct(`Geographic Cluster Name`, Asian) %>%
# ungroup() %>%
# st_as_sf() %>%
# mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
#        quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct(`Geographic Cluster Name`, Asian, .keep_all = T) %>%
# ungroup() %>%
# st_as_sf() %>%
# mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
#        quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
# mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
#        quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
mutate(quartile2 = quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1)),
quartileyay = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
# ungroup() %>%
# st_as_sf() %>%
mutate(quartile1 = quantile(Asian, probs = c(0.25)),
quartile_ovr = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
ungroup() %>%
# st_as_sf() %>%
mutate(quartile1 = quantile(Asian, probs = c(0.25)),
quartile_ovr = ntile(Asian, 4)) %>%
view()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
ungroup() %>%
# st_as_sf() %>%
mutate(
quartile_ovr = ntile(Asian, 4)) %>%
view()
runApp()
runApp()
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
ungroup() %>%
st_as_sf() %>%
mutate(quartile2 = ntile(Asian, 4))
bins <- quantile(Asian, probs = c(0, 0.25, 0.5, 0.75, 1))
bins <- quantile(leaflet_dat2[[Asian]], probs = c(0, 0.25, 0.5, 0.75, 1))
bins <- quantile(dat$Asian, probs = c(0, 0.25, 0.5, 0.75, 1))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
ungroup() %>%
st_as_sf() %>%
summarise(quartile2 = quantile(Asian, probs = c(0.25, 0.5, 0.75)))
dat %>%
group_by(`Geographic Cluster Name`) %>%
# mutate(!!input$variable2 := if_else(input$mean_median, mean(.data[[input$variable2]]), median(.data[[input$variable2]]))) %>%
select(`Geographic Cluster Name`, Asian, Geometry) %>%
# mutate(label = paste0(`Geographic Cluster Name`, ": ", .data[[input$variable2]])) %>%
distinct() %>%
ungroup() %>%
st_as_sf() %>%
mutate(quartile2 = quantile(Asian, probs = c(0.25, 0.5, 0.75)))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
